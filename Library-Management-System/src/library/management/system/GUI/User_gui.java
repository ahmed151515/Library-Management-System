/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JPanel.java to edit this template
 */
package library.management.system.GUI;

import library.management.system.Book;
import library.management.system.Database;

import javax.swing.*;
import javax.swing.table.DefaultTableModel;
import java.awt.*;
import java.sql.ResultSet;
import java.sql.SQLException;

/**
 * @author Ahmed
 */
public class User_gui extends javax.swing.JPanel {

	/**
	 * Creates new form User
	 */
	public User_gui() throws SQLException {
		initComponents();


	}


	/**
	 * This method is called from within the constructor to initialize the form.
	 * WARNING: Do NOT modify this code. The content of this method is always
	 * regenerated by the Form Editor.
	 */
	@SuppressWarnings("unchecked")
	// <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
	private void initComponents() throws SQLException {

		jScrollPane1 = new javax.swing.JScrollPane();
		jTable1 = new javax.swing.JTable();
		jPanel1 = new javax.swing.JPanel();
		BorrowBook = new javax.swing.JButton();

//		jTable1.setModel(new javax.swing.table.DefaultTableModel(
//				new Object[][]{
//						{null, null, null, null},
//						{null, null, null, null},
//						{null, null, null, null},
//						{null, null, null, null}
//				},
//				new String[]{
//						"Title 1", "Title 2", "Title 3", "Title 4"
//				}
//		));

		String[] columns = {
				"Book ID"
				, "Book Name"
				, "Num Page"
				, "Book Descnbtion"
				, "Book Author"
				, "Is Translator"
				, "Admin ID"
				, "categorise"
		};
		DefaultTableModel model = new DefaultTableModel(columns, 0);
		jTable1 = new JTable(model);
		jScrollPane1 = new JScrollPane(jTable1);
		GUI.frame.add(jScrollPane1, BorderLayout.CENTER);


		ResultSet rs = Database.select_stmt("*", "books");

		while (rs.next()) {
			String categories = Book.getBookCategories(rs.getInt("book_ID"));
			Object[] row = {
					rs.getInt("book_ID")
					, rs.getString("book_name")
					, rs.getInt("num_page")
					, rs.getString("book_descnbtion")
					, rs.getString("book_author")
					, rs.getBoolean("is_translator")
					, rs.getInt("admin_ID")
					, categories
			};

			model.addRow(row);
		}
		rs.close();
		Database.close_stmt();

		jScrollPane1.setViewportView(jTable1);
		BorrowBook.setBackground(new java.awt.Color(10, 20, 86));
		BorrowBook.setText("Borrow Book");
		BorrowBook.addActionListener(new java.awt.event.ActionListener() {
			public void actionPerformed(java.awt.event.ActionEvent evt) {
				BorrowBookActionPerformed(evt);
			}
		});

		javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
		jPanel1.setLayout(jPanel1Layout);
		jPanel1Layout.setHorizontalGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(jPanel1Layout.createSequentialGroup().addGap(474, 474, 474).addComponent(BorrowBook).addContainerGap(474, Short.MAX_VALUE)));
		jPanel1Layout.setVerticalGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(jPanel1Layout.createSequentialGroup().addGap(27, 27, 27).addComponent(BorrowBook).addContainerGap(36, Short.MAX_VALUE)));

		javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
		this.setLayout(layout);
		layout.setHorizontalGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE).addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup().addContainerGap().addComponent(jScrollPane1).addContainerGap()));
		layout.setVerticalGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addContainerGap().addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 492, javax.swing.GroupLayout.PREFERRED_SIZE).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED).addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)));
	}// </editor-fold>//GEN-END:initComponents

	private void BorrowBookActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BorrowBookActionPerformed
		// TODO add your handling code here:
	}//GEN-LAST:event_BorrowBookActionPerformed


	// Variables declaration - do not modify//GEN-BEGIN:variables
	private javax.swing.JButton BorrowBook;
	private javax.swing.JPanel jPanel1;
	private javax.swing.JScrollPane jScrollPane1;
	private javax.swing.JTable jTable1;

	// End of variables declaration//GEN-END:variables
}
